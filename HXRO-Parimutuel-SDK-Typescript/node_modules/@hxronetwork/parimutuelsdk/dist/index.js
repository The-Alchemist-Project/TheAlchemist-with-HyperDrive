var e=require("@solana/web3.js"),r=require("@solana/spl-token"),t=require("borsh"),n=require("bn.js"),i=require("bs58"),o=require("lodash/get"),s=require("lodash/chunk"),u=require("moment"),a=require("lodash/uniqWith"),c=require("lodash/isEqual");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f,p=/*#__PURE__*/l(n),d=/*#__PURE__*/l(i),m=/*#__PURE__*/l(o),h=/*#__PURE__*/l(s),b=/*#__PURE__*/l(u),y=/*#__PURE__*/l(a),P=/*#__PURE__*/l(c),k=function(t,n,i,o){return new e.TransactionInstruction({keys:[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:r.ASSOCIATED_TOKEN_PROGRAM_ID,data:Buffer.from([])})};exports.Version=void 0,(f=exports.Version||(exports.Version={}))[f.Uninitialized=0]="Uninitialized",f[f.NetworkV1=1]="NetworkV1",f[f.MarketV1=2]="MarketV1",f[f.StoreV1=3]="StoreV1",f[f.ParimutuelV1=4]="ParimutuelV1",f[f.TraderAccountV1=5]="TraderAccountV1",f[f.ParimutuelTraderPositionAccountV1=6]="ParimutuelTraderPositionAccountV1",f[f.TraderSequenceNumberV1=7]="TraderSequenceNumberV1",f[f.FixedFeesV1=8]="FixedFeesV1",f[f.LinearFeesV1=9]="LinearFeesV1";var g=function(e){this.enum=1,this.version=void 0,this.protocolFeeBps=void 0,this.settlementFeeBps=void 0,this._padding1=0,this._padding2=0,this._padding8=new p.default(0),this._padding16=new p.default(0),this._padding8_0=new p.default(0),this._padding8_1=new p.default(0),this._padding8_2=new p.default(0),this._padding8_3=new p.default(0),this.version=e.version,this.protocolFeeBps=new p.default(e.protocolFeeBps),this.settlementFeeBps=new p.default(e.settlementFeeBps)},v=function(e){this.enum=2,this.version=void 0,this.protocolTokenRequiredForMinFee=void 0,this.minProtocolFeeBps=void 0,this.maxProtocolFeeBps=void 0,this.minSettlementFeeBps=void 0,this.maxSettlementFeeBps=void 0,this._padding1=0,this._padding2=0,this._padding4=0,this._padding8=new p.default(0),this._padding8_0=new p.default(0),this._padding8_1=new p.default(0),this._padding8_2=new p.default(0),this._padding8_3=new p.default(0),this.version=e.version,this.protocolTokenRequiredForMinFee=e.protocolTokenRequiredForMinFee,this.minProtocolFeeBps=e.minProtocolFeeBps,this.maxProtocolFeeBps=e.maxProtocolFeeBps,this.minSettlementFeeBps=e.minSettlementFeeBps,this.maxSettlementFeeBps=e.maxSettlementFeeBps};function S(e,r){return S=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},S(e,r)}var w,E,A,T,_,R,K,O,x=/*#__PURE__*/function(e){var r,t;function n(r){var t;return(t=e.call(this,r)||this).enum=3,t}return t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,S(r,t),n}(v),W=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.authority=void 0,this.protocolToken=void 0,this.settlementToken=void 0,this.protocolProductOracle=void 0,this.protocolPriceOracle=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.authority=e.authority,this.protocolToken=e.protocolToken,this.settlementToken=e.settlementToken,this.protocolProductOracle=e.protocolProductOracle,this.protocolPriceOracle=e.protocolPriceOracle,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},I=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.marketKey=void 0,this.wallet=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.marketKey=e.marketKey,this.wallet=e.wallet,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},M=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.authority=void 0,this.network=void 0,this.underlyingProductOracle=void 0,this.underlyingPriceOracle=void 0,this.duration=void 0,this.contractSize=void 0,this.protocolFeeCollector=void 0,this.settlementFeeCollector=void 0,this.fee=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.authority=e.authority,this.network=e.network,this.underlyingProductOracle=e.underlyingProductOracle,this.underlyingPriceOracle=e.underlyingPriceOracle,this.duration=e.duration,this.contractSize=e.contractSize,this.protocolFeeCollector=e.protocolFeeCollector,this.settlementFeeCollector=e.settlementFeeCollector,this.fee=e.fee},C=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.strike=void 0,this.index=void 0,this.slot=void 0,this.marketOpen=void 0,this.marketClose=void 0,this.timeWindowStart=void 0,this.marketKey=void 0,this.honeypot=void 0,this.numPositions=void 0,this.numPositionsSettled=void 0,this.numPositionsDestroyed=void 0,this.expired=void 0,this.rewardPerShare=void 0,this.activeLongPositions=void 0,this.activeShortPositions=void 0,this.networkFees=void 0,this.marketFees=void 0,this.creator=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.strike=e.strike,this.index=e.index,this.slot=e.slot,this.marketOpen=e.marketOpen,this.marketClose=e.marketClose,this.timeWindowStart=e.timeWindowStart,this.marketKey=e.marketKey,this.honeypot=e.honeypot,this.numPositions=e.numPositions,this.numPositionsSettled=e.numPositionsSettled,this.numPositionsDestroyed=e.numPositionsDestroyed,this.expired=e.expired,this.rewardPerShare=e.rewardPerShare,this.activeLongPositions=e.activeLongPositions,this.activeShortPositions=e.activeShortPositions,this.networkFees=e.networkFees,this.marketFees=e.marketFees,this.creator=e.creator},B=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.traderWallet=void 0,this.aggregationLevelKey=void 0,this.profit=void 0,this.loss=void 0,this.wins=void 0,this.losses=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.traderWallet=e.traderWallet,this.aggregationLevelKey=e.aggregationLevelKey,this.profit=new p.default(e.profit),this.loss=new p.default(e.loss),this.wins=new p.default(e.wins),this.losses=new p.default(e.losses)},N=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.sequenceNumber=void 0,this.parimutuel=void 0,this.traderWallet=void 0,this.hasStore=void 0,this.store=void 0,this.longPosition=void 0,this.shortPosition=void 0,this.numEntries=void 0,this.paid=void 0,this.payout=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.sequenceNumber=e.sequenceNumber,this.parimutuel=e.parimutuel,this.traderWallet=e.traderWallet,this.hasStore=e.hasStore,this.store=e.store,this.longPosition=e.longPosition,this.shortPosition=e.shortPosition,this.numEntries=e.numEntries,this.paid=e.paid,this.payout=e.payout},L=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.traderPosition=void 0,this.sequenceNumber=void 0,this.traderWallet=void 0,this.direction=void 0,this.amount=void 0,this.timestamp=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.traderPosition=e.traderPosition,this.sequenceNumber=e.sequenceNumber,this.traderWallet=e.traderWallet,this.direction=e.direction,this.amount=e.amount,this.timestamp=e.timestamp},U=function(e){this.version=void 0,this.programId=void 0,this.bumpSeed=void 0,this.parimutuel=void 0,this.traderKey=void 0,this.sequenceNumber=void 0,this.version=e.version,this.programId=e.programId,this.bumpSeed=e.bumpSeed,this.parimutuel=e.parimutuel,this.traderKey=e.traderKey,this.sequenceNumber=e.sequenceNumber},F=function(e){this.instruction=0,this.fees=void 0,this.fees=e.fees},D=function(e){this.instruction=14,this.fees=void 0,this.fees=e.fees},G=function(e){this.instruction=1,this.duration=void 0,this.contractSize=void 0,this.fees=void 0,this.duration=new p.default(e.duration),this.contractSize=new p.default(e.contractSize),this.fees=e.fees},j=function(e){this.instruction=2,this.fees=void 0,this.fees=e.fees},V=function(e){this.instruction=3,this.marketOpen=void 0,this.marketClose=void 0,this.timeWindowStart=void 0,this.marketOpen=new p.default(e.marketOpen),this.marketClose=new p.default(e.marketClose),this.timeWindowStart=new p.default(e.timeWindowStart)},Y=function(){this.instruction=4},z=function(){this.instruction=5},q=function(){this.instruction=6},H=function(){this.instruction=7},X=function(){this.instruction=8},J=function(e){this.instruction=9,this.size=void 0,this.side=void 0,this.seq=void 0,this.size=new p.default(e.size),this.side=e.side,this.seq=new p.default(e.seq)},Q=function(){this.instruction=10},Z=function(){this.instruction=11},$=function(e){this.instruction=12,this.amount=void 0,this.amount=new p.default(e.amount)},ee=function(){this.instruction=15},re=function(){this.instruction=18},te=function(){this.instruction=17},ne=new Map([[F,{kind:"struct",fields:[["instruction","u8"],["fees",x]]}],[D,{kind:"struct",fields:[["instruction","u8"],["fees",x]]}],[G,{kind:"struct",fields:[["instruction","u8"],["duration","u64"],["contractSize","u64"],["fees",g]]}],[j,{kind:"struct",fields:[["instruction","u8"],["fees",g]]}],[V,{kind:"struct",fields:[["instruction","u8"],["marketOpen","u64"],["marketClose","u64"],["timeWindowStart","u64"]]}],[Y,{kind:"struct",fields:[["instruction","u8"]]}],[z,{kind:"struct",fields:[["instruction","u8"]]}],[H,{kind:"struct",fields:[["instruction","u8"]]}],[q,{kind:"struct",fields:[["instruction","u8"]]}],[X,{kind:"struct",fields:[["instruction","u8"]]}],[J,{kind:"struct",fields:[["instruction","u8"],["size","u64"],["side","u8"],["seq","u64"]]}],[Q,{kind:"struct",fields:[["instruction","u8"]]}],[Z,{kind:"struct",fields:[["instruction","u8"]]}],[$,{kind:"struct",fields:[["instruction","u8"],["amount","u64"]]}],[ee,{kind:"struct",fields:[["instruction","u8"]]}],[re,{kind:"struct",fields:[["instruction","u8"]]}],[te,{kind:"struct",fields:[["instruction","u8"]]}],[v,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolTokenRequiredForMinFee","u64"],["minProtocolFeeBps","u16"],["maxProtocolFeeBps","u16"],["minSettlementFeeBps","u16"],["maxSettlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding4","u32"],["_padding8","u64"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[x,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolTokenRequiredForMinFee","u64"],["minProtocolFeeBps","u16"],["maxProtocolFeeBps","u16"],["minSettlementFeeBps","u16"],["maxSettlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding4","u32"],["_padding8","u64"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[g,{kind:"struct",fields:[["enum","u8"],["version","u8"],["protocolFeeBps","u16"],["settlementFeeBps","u16"],["_padding1","u8"],["_padding2","u16"],["_padding8","u64"],["_padding16","u128"],["_padding8_0","u64"],["_padding8_1","u64"],["_padding8_2","u64"],["_padding8_3","u64"]]}],[W,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["authority","pubkeyAsString"],["protocolToken","pubkeyAsString"],["settlementToken","pubkeyAsString"],["protocolProductOracle","pubkeyAsString"],["protocolPriceOracle","pubkeyAsString"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",v]]}],[M,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["authority","pubkeyAsString"],["network","pubkeyAsString"],["underlyingProductOracle","pubkeyAsString"],["underlyingPriceOracle","pubkeyAsString"],["duration","u64"],["contractSize","u64"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",g]]}],[I,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["marketKey","pubkeyAsString"],["wallet","pubkeyAsString"],["protocolFeeCollector","pubkeyAsString"],["settlementFeeCollector","pubkeyAsString"],["fee",v]]}],[C,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["strike","u64"],["index","u64"],["slot","u64"],["marketOpen","u64"],["marketClose","u64"],["timeWindowStart","u64"],["marketKey","pubkeyAsString"],["honeypot","pubkeyAsString"],["numPositions","u64"],["numPositionsSettled","u64"],["numPositionsDestroyed","u64"],["expired","u8"],["rewardPerShare","u64"],["activeLongPositions","u64"],["activeShortPositions","u64"],["networkFees",x],["marketFees",g],["creator","pubkeyAsString"]]}],[B,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["traderWallet","pubkeyAsString"],["aggregationLevelKey","pubkeyAsString"],["profit","u64"],["loss","u64"],["wins","u64"],["losses","u64"]]}],[U,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["parimutuel","pubkeyAsString"],["traderWallet","pubkeyAsString"],["sequenceNumber","u64"]]}],[N,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["sequenceNumber","u64"],["parimutuel","pubkeyAsString"],["traderWallet","pubkeyAsString"],["hasStore","u8"],["store","pubkeyAsString"],["longPosition","u64"],["shortPosition","u64"],["numEntries","u64"],["paid","u8"],["payout","u64"]]}],[L,{kind:"struct",fields:[["version","u8"],["programId","pubkeyAsString"],["bumpSeed","u8"],["traderPosition","pubkeyAsString"],["sequenceNumber","u64"],["traderWallet","pubkeyAsString"],["direction","u8"],["amount","u64"],["timestamp","u64"]]}]]),ie=function(r,n,i,o,s,u,a,c){try{var l=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0}],programId:r,data:l}))}catch(e){return Promise.reject(e)}},oe=function(r,n,i,o,s,u,a,c,l,f){try{return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r,data:Buffer.from(t.serialize(ne,n))}))}catch(e){return Promise.reject(e)}},se=function(n,i,o,s,u,a,c,l,f,p,d){try{var m=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:n,data:m}))}catch(e){return Promise.reject(e)}},ue=function(n,i,o,s,u,a,c){try{var l=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:n,data:l}))}catch(e){return Promise.reject(e)}},ae=function(r,n,i,o,s,u,a,c,l){try{var f=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r,data:f}))}catch(e){return Promise.reject(e)}},ce=function(r,n,i,o,s,u,a){try{var c=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:r,data:c}))}catch(e){return Promise.reject(e)}},le=function(n,i,o,s,u,a,c,l,f,p){try{var d=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:n,data:d}))}catch(e){return Promise.reject(e)}},fe=function(r,n,i,o,s,u,a,c,l){try{var f=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r,data:f}))}catch(e){return Promise.reject(e)}},pe=function(n,i,o,s,u,a,c,l,f,p){try{var d=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:n,data:d}))}catch(e){return Promise.reject(e)}},de=function(n,i,o,s,u,a,c,l,f,p,d,m,h,b,y,P,k,g,v,S,w){try{var E=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:n,data:E}))}catch(e){return Promise.reject(e)}},me=function(n,i,o,s,u,a,c,l){try{var f=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:n,data:f}))}catch(e){return Promise.reject(e)}},he=function(n,i,o,s,u,a,c,l,f,p,d){try{var m=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0}],programId:n,data:m}))}catch(e){return Promise.reject(e)}},be=function(r,n,i,o,s,u,a,c){try{var l=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0}],programId:r,data:l}))}catch(e){return Promise.reject(e)}},ye=function(r,n,i,o,s,u,a){try{var c=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}],programId:r,data:c}))}catch(e){return Promise.reject(e)}},Pe=function(){t.BinaryReader.prototype.readPubkey=function(){var r=this.readFixedArray(32);return new e.PublicKey(r)},t.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},t.BinaryReader.prototype.readPubkeyAsString=function(){var e=this.readFixedArray(32);return d.default.encode(e)},t.BinaryWriter.prototype.writePubkeyAsString=function(e){this.writeFixedArray(d.default.decode(e))}};exports.CryptoEnum=void 0,(w=exports.CryptoEnum||(exports.CryptoEnum={})).SOLANA="solana",w.USDC="usdc",w.HXRO="hxro",exports.MarketEnum=void 0,(E=exports.MarketEnum||(exports.MarketEnum={})).PARIMUTUEL="parimutuel",E.OPTIONS="options",exports.MarketTypeEnum=void 0,(A=exports.MarketTypeEnum||(exports.MarketTypeEnum={})).CRYPTO="crypto",A.FINANCIAL="financial",A.SPORTS="sports",exports.MarketPairEnum=void 0,(T=exports.MarketPairEnum||(exports.MarketPairEnum={})).BTCUSD="BTCUSD",T.SOLUSD="SOLUSD",T.ETHUSD="ETHUSD",T.HXROUSD="HXROUSD",exports.CurrencyEnum=void 0,(_=exports.CurrencyEnum||(exports.CurrencyEnum={})).USDC="USDC",_.HXRO="HXRO",exports.DurationEnum=void 0,(R=exports.DurationEnum||(exports.DurationEnum={})).ONE_MIN="1min",R.FIVE_MIN="5min",R.FIFTEEN_MIN="15min",R.ONE_HOUR="1hour",R.ONE_DAY="1day",exports.MarketStatusEnum=void 0,(K=exports.MarketStatusEnum||(exports.MarketStatusEnum={})).UPCOMING="upcoming",K.LIVE="live",K.SETTLED="settled",exports.PositionSideEnum=void 0,(O=exports.PositionSideEnum||(exports.PositionSideEnum={}))[O.SHORT=1]="SHORT",O[O.LONG=0]="LONG";var ke=function(e,r){var t=[];return m.default(e.markets,[r,"MARKET_60S"])&&t.push({pubkey:m.default(e.markets,[r,"MARKET_60S"]),duration:60}),m.default(e.markets,[r,"MARKET_300S"])&&t.push({pubkey:m.default(e.markets,[r,"MARKET_300S"]),duration:300}),m.default(e.markets,[r,"MARKET_900S"])&&t.push({pubkey:m.default(e.markets,[r,"MARKET_900S"]),duration:900}),m.default(e.markets,[r,"MARKET_3600S"])&&t.push({pubkey:m.default(e.markets,[r,"MARKET_3600S"]),duration:3600}),m.default(e.markets,[r,"MARKET_86400S"])&&t.push({pubkey:m.default(e.markets,[r,"MARKET_86400S"]),duration:86400}),t},ge=function(e){return!!e},ve=function(r,t){try{var n="pda-"+r.reduce(function(e,r){return e+r.toString("hex")},"")+t.toString();if("undefined"!=typeof window){var i,o=null==(i=localStorage)?void 0:i.getItem(n);if(o){var s=JSON.parse(o);return Promise.resolve([s.key,parseInt(s.nonce)])}}return Promise.resolve(e.PublicKey.findProgramAddress(r,t)).then(function(e){var r;return"undefined"!=typeof window&&(null==(r=localStorage)||r.setItem(n,JSON.stringify({key:e[0].toBase58(),nonce:e[1]}))),[e[0].toBase58(),e[1]]})}catch(e){return Promise.reject(e)}},Se=function(r,t,n,i,o){try{return Promise.resolve(ve([Buffer.from("parimutuel"),t.toBuffer(),new Uint8Array(new p.default(n).toArray("le",8)),new Uint8Array(new p.default(o).toArray("le",8)),new Uint8Array(new p.default(i).toArray("le",8))],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},we=function(t,n){try{return Promise.resolve(ve([t.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Ee=function(t,n){try{return Promise.resolve(ve([t.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Ae=function(t,n){try{return Promise.resolve(ve([t.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Te=function(t,n){try{return Promise.resolve(ve([t.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},_e=function(t,n){try{return Promise.resolve(ve([t.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Re=function(r,t,n){try{return Promise.resolve(ve([Buffer.from("network_trader_account"),n.toBuffer(),t.toBuffer()],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Ke=function(r,t,n){try{return Promise.resolve(ve([Buffer.from("market_trader_account"),n.toBuffer(),t.toBuffer()],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Oe=function(r,t){try{return Promise.resolve(ve([Buffer.from("honeypot"),t.toBuffer()],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},xe=function(r,t,n){try{return Promise.resolve(ve([Buffer.from("parimutuel_trader_position"),n.toBuffer(),t.toBuffer()],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},We=function(r,t,n){try{return Promise.resolve(ve([Buffer.from("parimutuel_trader_entry"),t.toBuffer(),new Uint8Array(new p.default(n).toArray("le",8))],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Ie=function(r,t){try{return Promise.resolve(ve([Buffer.from("network_trader_fee_payer"),t.toBuffer()],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Me=function(r,t,n){try{return Promise.resolve(ve([Buffer.from("store"),t.toBuffer(),n.toBuffer()],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},Ce=function(r,t){try{var n=[t.map(function(e){return e.toBase58()}),{commitment:"recent"}];return Promise.resolve(r._rpcRequest("getMultipleAccounts",n)).then(function(r){if(r.error)throw new Error("failed to get info about accounts "+t.map(function(e){return e.toBase58()}).join(", ")+": "+r.error.message);return r.result?r.result.value.map(function(r){if(!r)return null;var t=r.lamports,n=r.data;return{executable:r.executable,owner:new e.PublicKey(r.owner),lamports:t,data:Buffer.from(n[0],"base64")}}).map(function(e,r){return null===e?null:{pubkey:t[r],account:e}}):[]})}catch(e){return Promise.reject(e)}},Be=function(e,r){try{if(r.length<=99)return Promise.resolve(Ce(e,r));var t=h.default(r,99);return Promise.resolve(Promise.all(t.map(function(r){return Ce(e,r)}))).then(function(e){return e.flat()})}catch(e){return Promise.reject(e)}},Ne=function(e,r,t){var n=(new Date).getTime(),i=n-n%r;return Array.from(Array(t).keys()).map(function(t){return{marketPubkey:e,startTime:i-t*r,duration:r}}).reverse()},Le=function(e,r,t){var n=(new Date).getTime(),i=n-n%r;return Array.from(Array(t).keys()).map(function(t){return{marketPubkey:e,startTime:i+t*r,duration:r}}).reverse()};Pe();var Ue=function(t){var n=r.AccountLayout.decode(t);return n.mint=new e.PublicKey(n.mint),n.owner=new e.PublicKey(n.owner),n.amount=r.u64.fromBuffer(n.amount),0===n.delegateOption?(n.delegate=null,n.delegatedAmount=new r.u64(0)):(n.delegate=new e.PublicKey(n.delegate),n.delegatedAmount=r.u64.fromBuffer(n.delegatedAmount)),n.isInitialized=0!==n.state,n.isFrozen=2===n.state,1===n.isNativeOption?(n.rentExemptReserve=r.u64.fromBuffer(n.isNative),n.isNative=!0):(n.rentExemptReserve=null,n.isNative=!1),n.closeAuthority=0===n.closeAuthorityOption?null:new e.PublicKey(n.closeAuthority),n},Fe=function(e){return t.deserializeUnchecked(ne,g,e)},De=function(e){return t.deserializeUnchecked(ne,v,e)},Ge=function(e){return t.deserializeUnchecked(ne,W,e)},je=function(e){return t.deserializeUnchecked(ne,I,e)},Ve=function(e){return t.deserializeUnchecked(ne,M,e)},Ye=function(e){return t.deserializeUnchecked(ne,C,e)},ze=function(e){return t.deserializeUnchecked(ne,B,e)},qe=function(e){return t.deserializeUnchecked(ne,N,e)},He=function(e){return t.deserializeUnchecked(ne,L,e)};function Xe(e,r,t){if(!e.s){if(t instanceof Je){if(!t.s)return void(t.o=Xe.bind(null,e,r));1&r&&(r=t.s),t=t.v}if(t&&t.then)return void t.then(Xe.bind(null,e,r),Xe.bind(null,e,2));e.s=r,e.v=t;var n=e.o;n&&n(e)}}var Je=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(r,t){var n=new e,i=this.s;if(i){var o=1&i?r:t;if(o){try{Xe(n,1,o(this.v))}catch(e){Xe(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?Xe(n,1,r?r(i):i):t?Xe(n,1,t(i)):Xe(n,2,i)}catch(e){Xe(n,2,e)}},n},e}();function Qe(e){return e instanceof Je&&1&e.s}function Ze(e,r,t){for(var n;;){var i=e();if(Qe(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=t();if(o&&o.then){if(!Qe(o)){n=1;break}o=o.s}if(r){var s=r();if(s&&s.then&&!Qe(s)){n=2;break}}}var u=new Je,a=Xe.bind(null,u,2);return(0===n?i.then(l):1===n?o.then(c):s.then(f)).then(void 0,a),u;function c(n){o=n;do{if(r&&(s=r())&&s.then&&!Qe(s))return void s.then(f).then(void 0,a);if(!(i=e())||Qe(i)&&!i.v)return void Xe(u,1,o);if(i.then)return void i.then(l).then(void 0,a);Qe(o=t())&&(o=o.v)}while(!o||!o.then);o.then(c).then(void 0,a)}function l(e){e?(o=t())&&o.then?o.then(c).then(void 0,a):c(o):Xe(u,1,o)}function f(){(i=e())?i.then?i.then(l).then(void 0,a):l(i):Xe(u,1,o)}}function $e(e,r){try{var t=e()}catch(e){return r(e)}return t&&t.then?t.then(void 0,r):t}var er=function(){return(new Date).getTime()/1e3};function rr(e){return new Promise(function(r){return setTimeout(r,e)})}var tr,nr,ir,or,sr,ur=function(e){var r=e.connection,t=e.signedTransaction,n=e.retry,i=void 0===n||n,o=e.timeout,s=void 0===o?15e3:o,u=e.confirmation,a=void 0===u||u;try{var c=t.serialize(),l=er(),f=0;return Promise.resolve(r.sendRawTransaction(c,{skipPreflight:!0})).then(function(e){function n(r){return{transactionId:e,slot:f}}var o=!1;i?function(){try{var e=Ze(function(){return!o&&er()-l<s},void 0,function(){return r.sendRawTransaction(c,{skipPreflight:!0}).catch(function(e){return console.error(e)}),Promise.resolve(rr(500)).then(function(){})});e&&e.then&&e.then(function(){})}catch(e){Promise.reject(e)}}():r.sendRawTransaction(c,{skipPreflight:!0}).catch(function(e){return console.error(e)});var u=function(){if(a){var n=function(r){console.log("Latency",e,er()-l)},i=function(n,i){try{var o=$e(function(){return console.log("Started awaiting confirmation for",e),Promise.resolve(function(e,r,t){try{var n=!1,i={slot:0,confirmations:0,err:null},o=0;return Promise.resolve(new Promise(function(s,u){try{setTimeout(function(){n||(n=!0,console.log("Timed out for txid",e),u({timeout:!0}))},r);try{o=t.onSignature(e,function(e,r){n=!0,i={err:e.err,slot:r.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),u(i)):(console.log("Resolved via websocket",e),s(i))},"recent")}catch(r){n=!0,console.error("WS error in setup",e,r)}var a=Ze(function(){return!n},void 0,function(){return function(){try{var r=$e(function(){return Promise.resolve(t.getSignatureStatuses([e])).then(function(r){i=r&&r.value[0],console.log("https://explorer.solana.com/tx/"+e+"?cluster=devnet"),n||(i?i.err?(console.log("REST error for",e,i),n=!0,u(i.err)):i.confirmations?(console.log("REST confirmation for",e,i),n=!0,s(i)):console.log("REST no confirmations for",e,i):console.log("REST null result for",e,i))})},function(r){n||console.log("REST connection error: transactionId",e,r)});r&&r.then&&r.then(function(){})}catch(e){Promise.reject(e)}}(),Promise.resolve(rr(2e3)).then(function(){})});return Promise.resolve(a&&a.then?a.then(function(){}):void 0)}catch(e){return Promise.reject(e)}})).then(function(e){var r;return i=e,null!=(r=t._signatureSubscriptions)&&r[o]&&t.removeSignatureListener(o),n=!0,console.log("Returning status",i),i})}catch(e){return Promise.reject(e)}}(e,s,r)).then(function(e){if(!e)throw new Error("Timed out awaiting confirmation on transaction");if(e.err)throw console.error(e.err),new Error("Transaction failed: Custom instruction error");f=(null==e?void 0:e.slot)||0})},function(e){function n(){if(i&&i.err){if(i.logs)for(var e=i.logs.length-1;e>=0;--e){var r=i.logs[e];if(r.startsWith("Program log: "))throw new Error("Transaction failed: "+r.slice("Program log: ".length))}throw new Error(JSON.stringify(i.err))}throw new Error("Transaction failed")}if(console.error("Timeout Error caught",e),e.timeout)throw new Error("Timed out awaiting confirmation on transaction");var i=null,o=$e(function(){return Promise.resolve(function(e,r,t){try{return Promise.resolve(e.getRecentBlockhash()).then(function(t){r.recentBlockhash=t.blockhash;var n=r.serializeMessage(),i=r._serialize(n).toString("base64");return Promise.resolve(e._rpcRequest("simulateTransaction",[i,{encoding:"base64",commitment:"single"}])).then(function(e){if(e.error)throw new Error("failed to simulate transaction: "+e.error.message);return e.result})})}catch(e){return Promise.reject(e)}}(r,t)).then(function(e){i=e.value})},function(e){console.error("simulate error",e)});return o&&o.then?o.then(n):n()})}catch(e){return i(!0,e)}return o&&o.then?o.then(i.bind(null,!1),i.bind(null,!0)):i(!1,o)}(0,function(e,r){if(o=!0,e)throw r;return r});return i&&i.then?i.then(n):n()}}();return u&&u.then?u.then(n):n()})}catch(e){return Promise.reject(e)}},ar=function(r,t,n,i,o,s,u,a,c,l){void 0===o&&(o="singleGossip"),void 0===s&&(s=!1),void 0===u&&(u=!0),void 0===a&&(a=!0);try{var f=function(e){function n(){return l&&l(),$e(function(){return Promise.resolve(ur({connection:r,signedTransaction:p,retry:u,confirmation:a})).then(function(e){return{transactionId:e.transactionId,slot:e.slot}})},function(e){console.error(e)})}var o,c,f;p.recentBlockhash=e.blockhash,s?(o=p).setSigners.apply(o,i.map(function(e){return e.publicKey})):(c=p).setSigners.apply(c,[t.publicKey].concat(i.map(function(e){return e.publicKey}))),i.length>0&&(f=p).partialSign.apply(f,i);var d=function(){if(!s)return Promise.resolve(t.signTransaction(p)).then(function(e){p=e})}();return d&&d.then?d.then(n):n()};if(!t.publicKey)throw new Error("wallet is not connected");var p=new e.Transaction;return n.forEach(function(e){return p.add(e)}),Promise.resolve(c?f(c):Promise.resolve(r.getRecentBlockhash(o)).then(f))}catch(e){return Promise.reject(e)}},cr=function(r,t,n){try{var i=this;if(!r.publicKey)throw new Error("user wallet not connected");var o=[],s=i.config,u=s.PARIMUTUEL_PROGRAM_ID,a=s.NETWORK,c=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&o.push(r);var l=a;return Promise.resolve(i.connection.getAccountInfo(n)).then(function(s){if(!s)throw new Error("no parimutuel account");var a=Ye(Buffer.from(s.data)),f=new e.PublicKey(a.marketKey);return Promise.resolve(xe(u,c,n)).then(function(e){return Promise.resolve(ie(u,new X,l,f,c,n,t,e)).then(function(e){return Promise.resolve(ar(i.connection,r,[e],o,"single",o.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to attach cookie")})})})})}catch(e){return Promise.reject(e)}},lr=function(r,t,n,i,o){try{var s=this;if(!r.publicKey)throw new Error("user wallet not connected");var u=[],a=s.config,c=a.PARIMUTUEL_PROGRAM_ID,l=a.NETWORK,f=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&u.push(r);var p=new V({marketOpen:n,marketClose:o,timeWindowStart:i}),d=l;return Promise.resolve(s.connection.getMultipleAccountsInfo([d,t])).then(function(a){var l=a[0],m=a[1];if(!l||!m)throw new Error("no network or market account");var h=Ge(Buffer.from(l.data)),b=Ve(Buffer.from(m.data)),y=new e.PublicKey(h.settlementToken),P=new e.PublicKey(b.underlyingProductOracle),k=new e.PublicKey(b.underlyingPriceOracle);return Promise.resolve(Se(c,t,n,i,o)).then(function(e){return Promise.resolve(Oe(c,e)).then(function(n){return Promise.resolve(le(c,p,d,t,f,y,P,k,n,e)).then(function(t){return Promise.resolve(ar(s.connection,r,[t],u,"max",u.length>0,!1,!1)).then(function(r){if(r)return r.transactionId;throw new Error("failed to create parimutuel: "+e.toBase58())})})})})})}catch(e){return Promise.reject(e)}},fr=function(r,t,n,i,o){try{var s=this;if(!r.publicKey)throw new Error("user wallet not connected");var u=[],a=[],c=s.config,l=c.PARIMUTUEL_PROGRAM_ID,f=c.NETWORK,p=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&a.push(r);var d=new j({fees:new g({version:exports.Version.FixedFeesV1,protocolFeeBps:i,settlementFeeBps:o})}),m=f;return Promise.resolve(s.connection.getAccountInfo(m)).then(function(i){if(!i)throw new Error("no network account");var o=Ge(Buffer.from(i.data)),c=new e.PublicKey(o.protocolToken),f=new e.PublicKey(o.settlementToken);return Promise.resolve(Me(l,n,t)).then(function(e){return Promise.resolve(_e(t,c)).then(function(i){return Promise.resolve(_e(t,f)).then(function(o){return Promise.resolve(s.connection.getMultipleAccountsInfo([i,o])).then(function(h){var b=h[1];if(!h[0]){var y=k(i,t,t,c);u.push(y)}if(!b){var P=k(o,t,t,f);u.push(P)}return Promise.resolve(fe(l,d,m,n,t,p,e,i,o)).then(function(e){return Promise.resolve(ar(s.connection,r,[].concat(u,[e]),a,"max",a.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create store")})})})})})})})}catch(e){return Promise.reject(e)}},pr=function(r,t){try{var n=this;if(!r.publicKey)throw new Error("user wallet not connected");var i=[],o=[],s=n.config,u=s.PARIMUTUEL_PROGRAM_ID,a=s.NETWORK;return null!=r&&r.hasOwnProperty("_keypair")&&o.push(r),Promise.resolve(n.connection.getAccountInfo(t)).then(function(s){if(!s)throw new Error("no parimutuel account");var c=Ye(Buffer.from(s.data)),l=new e.PublicKey(c.marketKey),f=a;return Promise.resolve(n.connection.getMultipleAccountsInfo([f,l])).then(function(s){var a=s[0],p=s[1];if(!a)throw new Error("no network account");if(!p)throw new Error("no market account");var d=Ge(Buffer.from(a.data)),m=Ve(Buffer.from(p.data)),h=new e.PublicKey(d.settlementToken),b=new e.PublicKey(d.authority),y=new e.PublicKey(m.underlyingProductOracle),P=new e.PublicKey(m.underlyingPriceOracle);return Promise.resolve(Oe(u,t)).then(function(s){return Promise.resolve(Ee(b,h)).then(function(a){return Promise.resolve(n.connection.getAccountInfo(a)).then(function(p){if(!p){var d=k(a,b,b,h);i.push(d)}return Promise.resolve(se(u,new Y,f,l,y,P,h,a,s,t,new e.PublicKey(c.creator))).then(function(e){return Promise.resolve(ar(n.connection,r,[].concat(i,[e]),o,"single",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update price")})})})})})})})}catch(e){return Promise.reject(e)}},dr=function(r,t,n,i,o){try{var s=this;if(!r.publicKey)throw new Error("user wallet not connected");var u=[],a=[],c=s.config,l=c.PARIMUTUEL_PROGRAM_ID,f=c.NETWORK,p=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&a.push(r);var d=f;return Promise.resolve(s.connection.getMultipleAccountsInfo([d,t])).then(function(c){var f=c[0],m=c[1];if(!f)throw new Error("no network account");if(!m)throw new Error("no parimutuel account");var h=Ye(Buffer.from(m.data)),b=new e.PublicKey(h.marketKey),y=Ge(Buffer.from(f.data)),P=new e.PublicKey(y.protocolToken),g=new e.PublicKey(y.settlementToken);return Promise.resolve(_e(p,P)).then(function(e){return Promise.resolve(_e(p,g)).then(function(c){return Promise.resolve(s.connection.getMultipleAccountsInfo([e,c])).then(function(f){var m=f[1];if(!f[0]){var h=k(e,p,p,P);u.push(h)}if(!m){var y=k(c,p,p,g);u.push(y)}return Promise.resolve(Re(l,p,d)).then(function(f){return Promise.resolve(Ke(l,p,b)).then(function(m){return Promise.resolve(Ie(l,f)).then(function(h){return Promise.resolve(xe(l,p,t)).then(function(y){return Promise.resolve(We(l,y,o)).then(function(k){return Promise.resolve(Oe(l,t)).then(function(g){return Promise.resolve(ae(l,new z,d,b,p,e,c,f,m)).then(function(e){return Promise.resolve(ue(l,new Z,d,p,P,f,h)).then(function(f){return Promise.resolve(ce(l,new q,d,b,p,y,t)).then(function(m){return Promise.resolve(pe(l,new J({size:n,side:i,seq:o}),d,b,p,c,y,k,g,t)).then(function(t){return Promise.resolve(ar(s.connection,r,[].concat(u,[e,f,m,t]),a,"max",a.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update position")})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},mr=function(r,t,n){try{var i=this;if(!r.publicKey)throw new Error("user wallet not connected");var o=[],s=i.config,u=s.NETWORK,a=s.PARIMUTUEL_PROGRAM_ID,c=s.NETWORK_PROTOCOL_FEE_COLLECTOR,l=s.MARKET_PROTOCOL_FEE_COLLECTOR;return null!=r&&r.hasOwnProperty("_keypair")&&o.push(r),Promise.resolve(i.connection.getAccountInfo(n)).then(function(s){if(!s)throw new Error("no parimutuel account");var f=Ye(Buffer.from(s.data)),p=new e.PublicKey(f.marketKey),d=new e.PublicKey(f.creator),m=u;return Promise.resolve(i.connection.getMultipleAccountsInfo([m,p])).then(function(s){var u=s[0],f=s[1];if(!u)throw new Error("no network account");if(!f)throw new Error("no market account");var h=Ge(Buffer.from(u.data)),b=Ve(Buffer.from(f.data)),y=new e.PublicKey(h.protocolToken),P=new e.PublicKey(h.settlementToken),k=new e.PublicKey(h.authority);return Promise.resolve(we(k,y)).then(function(s){return Promise.resolve(Ee(k,P)).then(function(u){var f=new e.PublicKey(b.authority),h=new e.PublicKey(b.underlyingProductOracle),k=new e.PublicKey(b.underlyingPriceOracle);return Promise.resolve(Ae(f,y)).then(function(e){return Promise.resolve(Te(f,P)).then(function(f){return Promise.resolve(_e(t,y)).then(function(b){return Promise.resolve(_e(t,P)).then(function(g){return Promise.resolve(xe(a,t,n)).then(function(v){return Promise.resolve(i.connection.getMultipleAccountsInfo([null!=c?c:s,u,null!=l?l:e,f,b,g,v])).then(function(b){var S=b[1],w=b[2],E=b[3],A=b[4],T=b[5],_=b[6];if(!b[0])throw new Error("no network protocol account");if(!S)throw new Error("no network settlement account");if(!w)throw new Error("no market protocol account");if(!E)throw new Error("no market settlement account");if(!A)throw new Error("no protocol token account");if(!T)throw new Error("no settlement token account");if(!_)throw new Error("no position account");return Promise.resolve(Oe(a,n)).then(function(b){return Promise.resolve(Re(a,t,m)).then(function(S){return Promise.resolve(Ke(a,t,p)).then(function(w){return Promise.resolve(Ie(a,S)).then(function(E){return Promise.resolve(de(a,new Q,m,p,t,h,k,y,P,g,E,S,null!=c?c:s,u,null!=l?l:e,f,w,v,b,n,d)).then(function(e){return Promise.resolve(ar(i.connection,r,[e],o,"max",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to settle position")})})})})})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},hr=function(r,t){try{var n=this;if(!r.publicKey)throw new Error("user wallet not connected");var i=[],o=n.config,s=o.PARIMUTUEL_PROGRAM_ID,u=o.NETWORK,a=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&i.push(r);var c=u;return Promise.resolve(n.connection.getAccountInfo(c)).then(function(o){if(!o)throw new Error("no network account");var u=Ge(Buffer.from(o.data));return Promise.resolve(Re(s,a,c)).then(function(o){return Promise.resolve(Ie(s,o)).then(function(l){var f=new e.PublicKey(u.protocolToken);return Promise.resolve(_e(a,f)).then(function(e){return Promise.resolve(me(s,new $({amount:t}),c,r.publicKey,f,e,o,l)).then(function(e){return Promise.resolve(ar(n.connection,r,[e],i,"single",i.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to withdraw fee")})})})})})})}catch(e){return Promise.reject(e)}},br=function(t,n,i,o){try{var s=this;if(!t.publicKey)throw new Error("user wallet not connected");var u=[],a=[],c=s.config,l=c.PARIMUTUEL_PROGRAM_ID,f=c.NETWORK,p=t.publicKey;null!=t&&t.hasOwnProperty("_keypair")&&a.push(t);var d=f;return Promise.resolve(s.connection.getAccountInfo(d)).then(function(c){if(!c)throw new Error("no network account");var f=Ge(Buffer.from(c.data)),m=new e.PublicKey(f.protocolToken),h=new e.PublicKey(f.settlementToken);return Promise.resolve(_e(p,m)).then(function(e){return Promise.resolve(_e(p,h)).then(function(c){return Promise.resolve(s.connection.getMultipleAccountsInfo([e,c])).then(function(f){var b=f[1];if(!f[0]){var y=k(e,p,p,m);u.push(y)}if(!b){var P=k(c,p,p,h);u.push(P)}return Promise.resolve(Re(l,p,d)).then(function(f){return Promise.resolve(Ie(l,f)).then(function(h){return Promise.resolve(Ke(l,p,n)).then(function(b){return Promise.resolve(ae(l,new z,d,n,p,e,c,f,b)).then(function(e){return Promise.resolve(ue(l,new Z,d,p,m,f,h)).then(function(n){return Promise.resolve(_e(p,i)).then(function(c){return Promise.resolve(s.connection.getAccountInfo(c)).then(function(l){var f=void 0;l||(f=k(c,p,p,i),u.push(f));var d=r.Token.createTransferInstruction(r.TOKEN_PROGRAM_ID,c,h,p,[],o);return Promise.resolve(ar(s.connection,t,[].concat(u,[e,n,d]),a,"max",a.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to deposit fee")})})})})})})})})})})})})}catch(e){return Promise.reject(e)}},yr=function(t,n,i,o){try{var s=this;return Promise.resolve(_e(t,n)).then(function(u){return Promise.resolve(s.connection.getAccountInfo(u)).then(function(a){function c(e){var t=new r.Token(s.connection,n,r.TOKEN_PROGRAM_ID,i);return Promise.resolve(t.mintTo(u,i,[],o)).then(function(){})}var l=function(){if(!a){var r=k(u,i.publicKey,t,n),o=(new e.Transaction).add(r);return Promise.resolve(e.sendAndConfirmTransaction(s.connection,o,[i],{commitment:"confirmed"})).then(function(e){if(!e)throw new Error("failed to create trader token account")})}}();return l&&l.then?l.then(c):c()})})}catch(e){return Promise.reject(e)}},Pr=function(r,t,n,i,o,s,u,a,c,l,f,d){void 0===c&&(c=10),void 0===l&&(l=150),void 0===f&&(f=100),void 0===d&&(d=300);try{var m=this;if(void 0===a&&(a=new p.default(1e6)),!r.publicKey)throw new Error("user wallet not connected");var h=[],b=m.config,y=b.PARIMUTUEL_PROGRAM_ID,P=b.NETWORK,k=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&h.push(r);var g=new D({fees:new x({version:1,protocolTokenRequiredForMinFee:a,minProtocolFeeBps:c,maxProtocolFeeBps:l,minSettlementFeeBps:f,maxSettlementFeeBps:d})}),v=P;return Promise.resolve(m.connection.getMultipleAccountsInfo([v])).then(function(a){var c=a[0];if(!c)throw new Error("no network or market account");var l=Ge(Buffer.from(c.data));return Promise.resolve(oe(y,g,v,k,i||new e.PublicKey(l.protocolProductOracle),o||new e.PublicKey(l.protocolPriceOracle),s||new e.PublicKey(l.protocolFeeCollector),u||new e.PublicKey(l.settlementFeeCollector),t||new e.PublicKey(l.protocolToken),n||new e.PublicKey(l.settlementToken))).then(function(e){return Promise.resolve(ar(m.connection,r,[e],h,"max",h.length>0,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to update network: "+v.toBase58())})})})}catch(e){return Promise.reject(e)}},kr=function(r,t){try{var n=this;if(!r.publicKey)throw new Error("user wallet not connected");var i=[],o=n.config,s=o.PARIMUTUEL_PROGRAM_ID,u=o.NETWORK;return null!=r&&r.hasOwnProperty("_keypair")&&i.push(r),Promise.resolve(n.connection.getAccountInfo(t)).then(function(o){if(!o)throw new Error("no parimutuel account");var a=Ye(Buffer.from(o.data)),c=new e.PublicKey(a.marketKey),l=new e.PublicKey(a.creator),f=u;return Promise.resolve(n.connection.getMultipleAccountsInfo([f,c])).then(function(o){var u=o[0],a=o[1];if(!u)throw new Error("no network account");if(!a)throw new Error("no market account");var p=Ge(Buffer.from(u.data)),d=Ve(Buffer.from(a.data)),m=new e.PublicKey(p.settlementToken),h=new e.PublicKey(d.underlyingProductOracle),b=new e.PublicKey(d.underlyingPriceOracle);return Promise.resolve(Oe(s,t)).then(function(e){return Promise.resolve(Ee(f,m)).then(function(o){return Promise.resolve(he(s,new ee,f,c,h,b,t,l,e,m,o)).then(function(e){return Promise.resolve(ar(n.connection,r,[e],i,"max",i.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy parimutuel")})})})})})})}catch(e){return Promise.reject(e)}},gr=function(r,t,n,i){try{var o=this;if(!r.publicKey)throw new Error("user wallet not connected");var s=[],u=o.config,a=u.PARIMUTUEL_PROGRAM_ID,c=u.NETWORK;return null!=r&&r.hasOwnProperty("_keypair")&&s.push(r),Promise.resolve(o.connection.getAccountInfo(n)).then(function(u){if(!u)throw new Error("no parimutuel account");var l=Ye(Buffer.from(u.data)),f=new e.PublicKey(l.marketKey),p=c;return Promise.resolve(o.connection.getMultipleAccountsInfo([p,f])).then(function(e){var u=e[1];if(!e[0])throw new Error("no network account");if(!u)throw new Error("no market account");return Promise.resolve(xe(a,t,n)).then(function(e){return Promise.resolve(We(a,e,i)).then(function(i){return Promise.resolve(be(a,new te,p,f,t,e,i,n)).then(function(e){return Promise.resolve(ar(o.connection,r,[e],s,"max",s.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy position entry")})})})})})})}catch(e){return Promise.reject(e)}},vr=function(r,t,n){try{var i=this;if(!r.publicKey)throw new Error("user wallet not connected");var o=[],s=i.config,u=s.PARIMUTUEL_PROGRAM_ID,a=s.NETWORK;return null!=r&&r.hasOwnProperty("_keypair")&&o.push(r),Promise.resolve(i.connection.getAccountInfo(n)).then(function(s){if(!s)throw new Error("no parimutuel account");var c=Ye(Buffer.from(s.data)),l=new e.PublicKey(c.marketKey),f=a;return Promise.resolve(i.connection.getMultipleAccountsInfo([f,l])).then(function(e){var s=e[1];if(!e[0])throw new Error("no network account");if(!s)throw new Error("no market account");return Promise.resolve(xe(u,t,n)).then(function(e){return Promise.resolve(ye(u,new re,f,l,t,e,n)).then(function(e){return Promise.resolve(ar(i.connection,r,[e],o,"max",o.length>0,!1,!1)).then(function(e){if(e)return e.transactionId;throw new Error("failed to destroy position")})})})})})}catch(e){return Promise.reject(e)}},Sr=function(){try{var e=this.config.NETWORK;return Promise.resolve(this.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("Failed to find network account");var t=Buffer.from(r.data);return{pubkey:e,account:r,info:{network:Ge(t),linearFees:De(t.slice(-65))}}})}catch(e){return Promise.reject(e)}},wr=function(e){try{var r=ke(this.config,e).map(function(e){return e.pubkey});return Promise.resolve(this.connection.getMultipleAccountsInfo(r)).then(function(e){return e.map(function(e,t){if(!e)return null;var n=Buffer.from(e.data);return{pubkey:r[t],account:e,info:{market:Ve(n),fixedFees:Fe(n.slice(-65))}}}).filter(ge)})}catch(e){return Promise.reject(e)}},Er=function(r,t){try{var n=this;if(!r)return Promise.resolve([]);var i=n.config.PARIMUTUEL_PROGRAM_ID,o=r.map(function(e){var r=e.duration;return Le(e.pubkey.toBase58(),1e3*r,t||5)}).flat(),s=r.map(function(e){var r=e.duration;return Ne(e.pubkey.toBase58(),1e3*r,t||5)}).flat(),u=y.default([].concat(s,o),P.default);return Promise.resolve(Promise.all(u.map(function(r){try{return Promise.resolve(Se(i,new e.PublicKey(r.marketPubkey),0,r.startTime,r.startTime))}catch(e){return Promise.reject(e)}}))).then(function(e){return Promise.resolve(Be(n.connection,e.map(function(e){return e}))).then(function(r){return r.map(function(r,t){return r?{pubkey:e[t],account:r.account,info:{parimutuel:Ye(r.account.data)}}:null}).filter(ge)})})}catch(e){return Promise.reject(e)}},Ar=function(e){try{return Promise.resolve(this.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no parimutuel account");return{pubkey:e,account:r,info:{parimutuel:Ye(r.data)}}})}catch(e){return Promise.reject(e)}},Tr=function(r){try{var t=this;return Promise.resolve(t.connection.getProgramAccounts(t.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:172},{memcmp:{offset:42,bytes:null==r?void 0:r.toBase58()}}]})).then(function(r){var n=r.map(function(e){return qe(e.account.data)});return Promise.resolve(Be(t.connection,n.map(function(r){return new e.PublicKey(r.parimutuel)}))).then(function(t){return r.map(function(r,n){var i=Ye(m.default(t,[n,"account","data"])),o=qe(r.account.data);return{pubkey:r.pubkey,account:r.account,info:{parimutuelPubkey:new e.PublicKey(o.parimutuel),parimutuel:i,market:m.default([],[i.marketKey,"info"]),position:o}}})})})}catch(e){return Promise.reject(e)}},_r=function(r,t){try{var n=this;return Promise.resolve(n.connection.getProgramAccounts(n.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:172},{memcmp:{offset:74,bytes:null==r?void 0:r.toBase58()}}]})).then(function(r){var i=r.map(function(e){return qe(e.account.data)});return Promise.resolve(Be(n.connection,i.map(function(r){return new e.PublicKey(r.parimutuel)}))).then(function(n){return r.map(function(r,i){var o=Ye(m.default(n,[i,"account","data"])),s=qe(r.account.data);return{pubkey:r.pubkey,account:r.account,info:{parimutuelPubkey:new e.PublicKey(s.parimutuel),parimutuel:o,market:m.default(t,[o.marketKey,"info"]),position:s}}})})})}catch(e){return Promise.reject(e)}},Rr=function(r){try{var t=this;return Promise.resolve(t.connection.getProgramAccounts(t.config.PARIMUTUEL_PROGRAM_ID,{filters:[{dataSize:123},{memcmp:{offset:34,bytes:null==r?void 0:r.toBase58()}}]})).then(function(r){var n=r.map(function(e){return He(e.account.data)}),i=n.map(function(r){return new e.PublicKey(r.traderPosition)});return Promise.resolve(Be(t.connection,i)).then(function(t){var i=t.map(function(e){return e?qe(e.account.data):null});return r.map(function(r,t){var o=i[t];return{pubkey:r.pubkey,account:r.account,info:{parimutuelPubkey:new e.PublicKey(null!==o?o.parimutuel:""),entry:n[t]}}})})})}catch(e){return Promise.reject(e)}},Kr=function(r,t){try{var n=this,i=0,o=0,s=0,u=0,a=n.config,c=a.NETWORK_PROTOCOL_FEE_COLLECTOR,l=a.MARKET_PROTOCOL_FEE_COLLECTOR;return Promise.resolve(n.connection.getAccountInfo(a.NETWORK)).then(function(a){if(!a)throw new Error("no network account");var f=Ge(Buffer.from(a.data)),p=new e.PublicKey(f.protocolToken),d=new e.PublicKey(f.settlementToken);return Promise.resolve(we(r,p)).then(function(e){return Promise.resolve(Ee(r,d)).then(function(r){return Promise.resolve(Ae(t,p)).then(function(a){return Promise.resolve(Te(t,d)).then(function(t){return Promise.resolve(n.connection.getMultipleAccountsInfo([null!=c?c:e,r,null!=l?l:a,t])).then(function(n){var f=n[0],p=n[1],d=n[2],m=n[3];if(f){var h=Ue(f.data);i=Number(h.amount)||0}if(p){var b=Ue(p.data);o=Number(b.amount)||0}if(d){var y=Ue(d.data);s=Number(y.amount)||0}if(m){var P=Ue(m.data);u=Number(P.amount)||0}return{network:{protocolFeeAccountPubkey:null!=c?c:e,protocolFeeAmount:i,settlementFeeAccountPubkey:r,settlementFeeAmount:o},market:{protocolFeeAccountPubkey:null!=l?l:a,protocolFeeAmount:s,settlementFeeAccountPubkey:t,settlementFeeAmount:u}}})})})})})})}catch(e){return Promise.reject(e)}},Or=function(e,r){try{var t=this;return Promise.resolve(Re(t.config.PARIMUTUEL_PROGRAM_ID,e,r)).then(function(e){return Promise.resolve(t.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no trader account");return{pubkey:e,account:r,info:{traderAccount:ze(null==r?void 0:r.data)}}})})}catch(e){return Promise.reject(e)}},xr=function(e,r){try{var t=this,n=t.config.PARIMUTUEL_PROGRAM_ID;return Promise.resolve(Re(n,e,r)).then(function(e){return Promise.resolve(Ie(n,e)).then(function(e){return Promise.resolve(t.connection.getAccountInfo(e)).then(function(r){if(!r)throw new Error("no fee payer account");return{pubkey:e,account:r,info:{tokenAccount:{pubkey:e.toBase58(),account:r,info:Ue(r.data)}}}})})})}catch(e){return Promise.reject(e)}},Wr=function(e){try{return Promise.resolve(this.connection.getAccountInfo(e)).then(function(e){if(!e)throw new Error("Failed to find account");var r=Buffer.from(e.data),t=je(r),n=Fe(r.slice(-65));return t.fee=n,t})}catch(e){return Promise.reject(e)}};exports.ConfigEnum=void 0,(sr=exports.ConfigEnum||(exports.ConfigEnum={})).DEV="dev",sr.STAGING="staging",sr.CUSTOM="custom";var Ir={PARIMUTUEL_PROGRAM_ID:new e.PublicKey("3kjK4HA6A4K86NgNB93gGhSt257wtN4QAqXMNPQ4fVTm"),NETWORK:new e.PublicKey("2xJcpMZvegKZ6GCYzUp74DfEFtPss66XNzV932xgSgNW"),NETWORK_PROTOCOL_FEE_COLLECTOR:new e.PublicKey("3QxkXnrh7EHYwQp7s6x7t5nJidyGVC7mVNFwGpy6FV5F"),MARKET_PROTOCOL_FEE_COLLECTOR:new e.PublicKey("Fcbzf2591V4rWw83yLUjkA646F2twxzLeZinbbSMYece"),HXRO_MINT:new e.PublicKey("265iYi4pVmorRzrq3X7Eudy6uCKMeDxXiTDkh92vARTE"),USDC_MINT:new e.PublicKey("DXSVQJqJbNTTcGqCkfHnQYXwG5GhZsfg2Ka9tNkK3ohr"),BONK_MINT:new e.PublicKey("bonkKjzREa7pVBRD6nFPAKRaHhS7XpDhhgZCZdGNkuU"),oracles:{HXRO_USD_ORACLE:new e.PublicKey("6C4PJ4bMuLFmvHRqSkmGeyoSGAKMfPG1um1k1suryfs"),HXRO_PRICE_ORACLE:new e.PublicKey("6VrSw4Vxg5zs9shfdCxLqfUy2qSD3NCS9AsdBQUgbjnt"),SOL_USD_ORACLE:new e.PublicKey("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),SOL_PRICE_ORACLE:new e.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),BTC_USD_ORACLE:new e.PublicKey("3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk"),BTC_PRICE_ORACLE:new e.PublicKey("HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J"),ETH_USD_ORACLE:new e.PublicKey("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu"),ETH_PRICE_ORACLE:new e.PublicKey("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw")},markets:(tr={},tr[exports.MarketPairEnum.SOLUSD]={MARKET_60S:new e.PublicKey("6ACZ5GxMexC7MgEWJJbEZ7KoRux6kuw8CeDhdPQqnKxf"),MARKET_300S:new e.PublicKey("AySG6K4cNHvy3YpHFb1JcmmEhBfLfCzYgNXqpdfgbQoE"),MARKET_900S:new e.PublicKey("HzLNwHEMH3aAY9F8gRAdJEfe2J3opdxr1mDPt8AuLEkh"),MARKET_3600S:new e.PublicKey("BqJAZHr56t14QABZLygZYWe7WozVSVPLQb6yDSj9f8U1"),MARKET_86400S:new e.PublicKey("2MMLwY7VaDTS3ZSd1ZkmzCQxrJWjxmWgEXLPEA3nm9Pz")},tr[exports.MarketPairEnum.BTCUSD]={MARKET_60S:new e.PublicKey("2J8yR9G1yXebijHYuRFe4iWQfKxYt8LLGN2mfxKCLWWM"),MARKET_300S:new e.PublicKey("8WiZ4VTsq8fG92osksPbrc5E3raeL839D83Q8pxuXH8m"),MARKET_900S:new e.PublicKey("79omw4hStqWfPnQXPinEF2yDFFakjvXanwMZZ7YYFL94"),MARKET_3600S:new e.PublicKey("7hbU86BtQUkZUw8jJpqgaRgp1Wyxgp2LSTyY1oSoznvP"),MARKET_86400S:new e.PublicKey("HjdzuJ5LhiLJLKaR4sCCHj3FwmkWEHNXpGVEPUTPFRtx")},tr[exports.MarketPairEnum.ETHUSD]={MARKET_60S:new e.PublicKey("CX9JDCAut5ShXYdQFAX9oSo93wmi86Xkb7SgagsgkXmM"),MARKET_300S:new e.PublicKey("F35oVkVWKSYHqaw66U1PHgZtmPeJMcTArEPvX3PCukTH"),MARKET_900S:new e.PublicKey("BRDqHv4enme3piwh228yyVk1sBuxa8Q7mgwq7SYwsPfA"),MARKET_3600S:new e.PublicKey("7MDcHRxHhTdDmhCMRVC9hgb29CFMbTTG5jT3thpqqqJK"),MARKET_86400S:new e.PublicKey("8kw8BAWcgm78PMmHsKoXUGKZXnUPZUaXCw8SdrRAjJ3E")},tr)},Mr={MARKET_PROTOCOL_FEE_COLLECTOR:void 0,NETWORK_PROTOCOL_FEE_COLLECTOR:void 0,SOLANA_CLUSTER_URL:"https://api.devnet.solana.com",PARIMUTUEL_PROGRAM_ID:new e.PublicKey("3kjK4HA6A4K86NgNB93gGhSt257wtN4QAqXMNPQ4fVTm"),NETWORK:new e.PublicKey("5QW1YiTeLWft63Y4LCXfKCzQUDApzpJWeQh6gqXT8Mf1"),HXRO_MINT:new e.PublicKey("265iYi4pVmorRzrq3X7Eudy6uCKMeDxXiTDkh92vARTE"),USDC_MINT:new e.PublicKey("DXSVQJqJbNTTcGqCkfHnQYXwG5GhZsfg2Ka9tNkK3ohr"),BONK_MINT:new e.PublicKey("bonkKjzREa7pVBRD6nFPAKRaHhS7XpDhhgZCZdGNkuU"),oracles:{HXRO_USD_ORACLE:new e.PublicKey("6C4PJ4bMuLFmvHRqSkmGeyoSGAKMfPG1um1k1suryfs"),HXRO_PRICE_ORACLE:new e.PublicKey("6VrSw4Vxg5zs9shfdCxLqfUy2qSD3NCS9AsdBQUgbjnt"),SOL_USD_ORACLE:new e.PublicKey("3Mnn2fX6rQyUsyELYms1sBJyChWofzSNRoqYzvgMVz5E"),SOL_PRICE_ORACLE:new e.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix"),BTC_USD_ORACLE:new e.PublicKey("3m1y5h2uv7EQL3KaJZehvAJa4yDNvgc5yAdL9KPMKwvk"),BTC_PRICE_ORACLE:new e.PublicKey("HovQMDrbAgAYPCmHVSrezcSmkMtXSSUsLDFANExrZh2J"),ETH_USD_ORACLE:new e.PublicKey("2ciUuGZiee5macAMeQ7bHGTJtwcYTgnt6jdmQnnKZrfu"),ETH_PRICE_ORACLE:new e.PublicKey("EdVCmQ9FSPcVe5YySXDPCRmc8aDQLKJ9xvYBMZPie1Vw")},markets:(nr={},nr[exports.MarketPairEnum.SOLUSD]={MARKET_60S:new e.PublicKey("DeQFZzcWkEUeYju6GoizSbZotynYdB4XfkNgf21LtZjs")},nr[exports.MarketPairEnum.BTCUSD]={MARKET_60S:new e.PublicKey("BswfdHHVnYRMQmDMYNcMF89tWfnQcCwtraCNDgnv8sVE")},nr[exports.MarketPairEnum.ETHUSD]={},nr)},Cr={MARKET_PROTOCOL_FEE_COLLECTOR:void 0,NETWORK_PROTOCOL_FEE_COLLECTOR:void 0,SOLANA_CLUSTER_URL:"https://api.mainnet-beta.solana.com",PARIMUTUEL_PROGRAM_ID:new e.PublicKey("GUhB2ohrfqWspztgCrQpAmeVFBWmnWYhPcZuwY52WWRe"),NETWORK:new e.PublicKey("AARaFgaGwAoZAGqwf8Kn5aqxpZvuDotMMH6HgckJpCC7"),HXRO_MINT:new e.PublicKey("HxhWkVpk5NS4Ltg5nij2G671CKXFRKPK8vy271Ub4uEK"),USDC_MINT:new e.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),BONK_MINT:new e.PublicKey("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),oracles:{HXRO_USD_ORACLE:new e.PublicKey("BJqTdFytBhGWpq183a5EPo123cB6gitTAmSSsCta3RGG"),HXRO_PRICE_ORACLE:new e.PublicKey("B47CC1ULLw1jKTSsr1N1198zrUHp3LPduzepJyzgLn2g"),SOL_USD_ORACLE:new e.PublicKey("ALP8SdU9oARYVLgLR7LrqMNCYBnhtnQz1cj6bwgwQmgj"),SOL_PRICE_ORACLE:new e.PublicKey("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG"),BTC_USD_ORACLE:new e.PublicKey("4aDoSXJ5o3AuvL7QFeR6h44jALQfTmUUCTVGDD6aoJTM"),BTC_PRICE_ORACLE:new e.PublicKey("GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU"),ETH_USD_ORACLE:new e.PublicKey("EMkxjGC1CQ7JLiutDbfYb7UKb3zm9SJcUmr1YicBsdpZ"),ETH_PRICE_ORACLE:new e.PublicKey("JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB")},markets:(ir={},ir[exports.MarketPairEnum.SOLUSD]={MARKET_60S:new e.PublicKey("6BWYu93T3ZiRntvYfRhqpkJJb7VNGt8yUcKPVSFCiYCa")},ir[exports.MarketPairEnum.BTCUSD]={},ir[exports.MarketPairEnum.ETHUSD]={},ir)},Br={PARIMUTUEL_PROGRAM_ID:new e.PublicKey("GUhB2ohrfqWspztgCrQpAmeVFBWmnWYhPcZuwY52WWRe"),NETWORK:new e.PublicKey("FoCmS48FRyJrx6bozDijaARYAThdUeUGu4rbGKqBegcH"),HXRO_MINT:new e.PublicKey("HxhWkVpk5NS4Ltg5nij2G671CKXFRKPK8vy271Ub4uEK"),USDC_MINT:new e.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),BONK_MINT:new e.PublicKey("DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263"),oracles:{HXRO_USD_ORACLE:new e.PublicKey("BJqTdFytBhGWpq183a5EPo123cB6gitTAmSSsCta3RGG"),HXRO_PRICE_ORACLE:new e.PublicKey("B47CC1ULLw1jKTSsr1N1198zrUHp3LPduzepJyzgLn2g"),SOL_USD_ORACLE:new e.PublicKey("ALP8SdU9oARYVLgLR7LrqMNCYBnhtnQz1cj6bwgwQmgj"),SOL_PRICE_ORACLE:new e.PublicKey("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG"),BTC_USD_ORACLE:new e.PublicKey("4aDoSXJ5o3AuvL7QFeR6h44jALQfTmUUCTVGDD6aoJTM"),BTC_PRICE_ORACLE:new e.PublicKey("GVXRSBjFk6e6J3NbVPXohDJetcTjaeeuykUpbQF8UoMU"),ETH_USD_ORACLE:new e.PublicKey("EMkxjGC1CQ7JLiutDbfYb7UKb3zm9SJcUmr1YicBsdpZ"),ETH_PRICE_ORACLE:new e.PublicKey("JBu1AL4obBcCMqKBBxhpWCNUt136ijcuMZLFvTP7iWdB")},markets:(or={},or[exports.MarketPairEnum.SOLUSD]={MARKET_60S:new e.PublicKey("8nV7h2G2mU3PZ7xkfmZWdXSjpefbdSikXwerNVMmgqG5"),MARKET_300S:new e.PublicKey("5m89C7XsQRtuFFARMmKucnYdaNEf9mYXbLxJVGcdyJTU"),MARKET_900S:new e.PublicKey("FnD3PLAbbsJYRufYR9qp8BGgcKmEbSBiC1zkvmj51i3J"),MARKET_3600S:new e.PublicKey("GemLV88r4QsUiVAmc34pwFfaNjaw5BMBmhjqtHVByNra"),MARKET_86400S:new e.PublicKey("GNV2wry1pFCpJeGrhM2e3app99VXTP7rpXUwQGrL1hHi")},or[exports.MarketPairEnum.BTCUSD]={MARKET_60S:new e.PublicKey("9bqu5kYo3RUBY1kxSQjwpKPYrFzsFxEK7tHrxwLs3XWH"),MARKET_300S:new e.PublicKey("3bH2HWjWNLgGWXbhHhK73fJEDeRQ7spj3fkyRyom6vpx"),MARKET_900S:new e.PublicKey("CsXwpYNwkfrbMdoGWrj97yhuseLRuofy7fxj3Beesxv9"),MARKET_3600S:new e.PublicKey("7c5PqmbTGsrWxCHXAfi9Rt2tTvG1oAdCK13FS8TKEpZ7"),MARKET_86400S:new e.PublicKey("DpMZ7BGRYLF6xi6uD7ecaEjMv5aKx8gShzjhU4pscuqY")},or[exports.MarketPairEnum.ETHUSD]={MARKET_60S:new e.PublicKey("EfFQtUkjv1ehWg9XrskkUL89sJ8ts4vGHavbo8TkQusL"),MARKET_300S:new e.PublicKey("3DzpjP5cPP32Jkacu7MbEHNZYpiFpPozWQcJJaLgUXRH"),MARKET_900S:new e.PublicKey("9xvKy77EQMeDw7z4ikNgXeRc2vWJgdbaLKBMSmEZbjXi"),MARKET_3600S:new e.PublicKey("6fvFpHoXCxsafVuvNaH7Kdzbk66xmYhCyiTz4H1T89Qy"),MARKET_86400S:new e.PublicKey("CYBcN2nM7oCH1BTt87GA4eP2vqLw2rTR1osgtAy7xyAg")},or)},Nr=Ir,Lr=Br;exports.AttachCookieArgs=X,exports.DAY_1=86400,exports.DEVNET_CONFIG=Nr,exports.DEV_BONK_CONFIG=Mr,exports.DEV_CONFIG=Ir,exports.DestroyParimutuelArgs=ee,exports.DestroyPositionArgs=re,exports.DestroyPositionEntryArgs=te,exports.FixedFees=g,exports.GET_MULTIPLE_ACCOUNTS_LIMIT=99,exports.HONEYPOT_SEED="honeypot",exports.HR_1=3600,exports.LinearFees=v,exports.MAINNET_CONFIG=Lr,exports.MARKET_SEED="market",exports.MARKET_TRADER_ACCOUNT_SEED="market_trader_account",exports.MIN_1=60,exports.MIN_15=900,exports.MIN_5=300,exports.Market=M,exports.MarketArgs=G,exports.NETWORK_FEE_PAYER_SEED="network_trader_fee_payer",exports.NETWORK_SEED="network",exports.NETWORK_TRADER_ACCOUNT_SEED="network_trader_account",exports.Network=W,exports.NetworkArgs=F,exports.NetworkTraderFeePayerArgs=Z,exports.NetworkUpdateArgs=D,exports.PARIMUTUEL_SEED="parimutuel",exports.Parimutuel=C,exports.ParimutuelArgs=V,exports.ParimutuelWeb3=function(r,t){var n;this.config=void 0,this.connection=void 0,this.updateNetwork=Pr.bind(this),this.createParimutuel=lr.bind(this),this.updatePrice=pr.bind(this),this.placePosition=dr.bind(this),this.settlePosition=mr.bind(this),this.destroyParimutuel=kr.bind(this),this.destroyPosition=vr.bind(this),this.destroyPositionEntry=gr.bind(this),this.transferToken=yr.bind(this),this.depositFee=br.bind(this),this.withdrawFee=hr.bind(this),this.createStore=fr.bind(this),this.attachCookie=cr.bind(this),this.getFees=Kr.bind(this),this.getMarkets=wr.bind(this),this.getNetwork=Sr.bind(this),this.getNetworkTraderAccount=Or.bind(this),this.getParimutuel=Ar.bind(this),this.getParimutuels=Er.bind(this),this.getUserPositions=_r.bind(this),this.getParimutuelPositions=Tr.bind(this),this.getEntries=Rr.bind(this),this.getStore=Wr.bind(this),this.getTraderFeePayerAccount=xr.bind(this),this.config=r,this.connection=new e.Connection(null!=(n=r.SOLANA_CLUSTER_URL)?n:e.clusterApiUrl("devnet"),"recent"),t&&(this.connection=t)},exports.STAGING_BONK_CONFIG=Cr,exports.STAGING_CONFIG=Br,exports.STORE_SEED="store",exports.SettlePositionArgs=Q,exports.Store=I,exports.StoreArgs=j,exports.TRADER_ENTRY_ACCOUNT_SEED="parimutuel_trader_entry",exports.TRADER_POSITION_ACCOUNT_SEED="parimutuel_trader_position",exports.TRADER_SEQUENCE_SEED="trader_sequence",exports.TraderAccount=B,exports.TraderAccountsArgs=z,exports.TraderEntryAccount=L,exports.TraderPositionAccount=N,exports.TraderPositionAccountArgs=q,exports.TraderSequenceNumber=U,exports.TraderSequenceNumberArgs=H,exports.TwoTieredFees=x,exports.UpdatePositionArgs=J,exports.UpdatePriceArgs=Y,exports.WithdrawFeeArgs=$,exports.calculateNetOdd=function(e,r,t){return e&&r?Number(r*(1-t)/e).toFixed(2):"0"},exports.calculateOdd=function(e,r){return e&&r?Number(1/(e/r)).toFixed(2):"0"},exports.createAssociatedTokenAccountInstruction=k,exports.createAttachCookieInstruction=ie,exports.createDestroyParimutuelInstruction=he,exports.createDestroyPositionEntryInstruction=be,exports.createDestroyPositionInstruction=ye,exports.createMarketInstruction=function(r,n,i,o,s,u,a,c,l,f){try{var p=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r,data:p}))}catch(e){return Promise.reject(e)}},exports.createNetworkInstruction=function(r,n,i,o,s,u,a,c,l,f,p){try{var d=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r,data:d}))}catch(e){return Promise.reject(e)}},exports.createNetworkTraderFeePayerInstruction=ue,exports.createParimutuelInstruction=le,exports.createPlacePositionInstruction=pe,exports.createSettlePositionInstruction=de,exports.createStoreInstruction=fe,exports.createTraderAccountInstruction=ae,exports.createTraderPositionAccountInstruction=ce,exports.createTraderSequenceNumberInstruction=function(r,n,i,o,s,u,a,c,l,f){try{var p=Buffer.from(t.serialize(ne,n));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r,data:p}))}catch(e){return Promise.reject(e)}},exports.createTransferFundsInstruction=function(n,i,o,s,u,a,c,l,f,p,d,m,h,b,y,P,k,g,v,S,w,E,A){try{var T=Buffer.from(t.serialize(ne,i));return Promise.resolve(new e.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1}],programId:n,data:T}))}catch(e){return Promise.reject(e)}},exports.createUpdatePriceInstruction=se,exports.createWithdrawFeeInstruction=me,exports.decodeAccount=Ue,exports.decodeFixedFees=Fe,exports.decodeLinearFees=De,exports.decodeMarket=Ve,exports.decodeMint=function(t){if(t.length!==r.MintLayout.span)throw new Error("Not a valid Mint");var n=r.MintLayout.decode(t);return n.mintAuthority=0===n.mintAuthorityOption?null:new e.PublicKey(n.mintAuthority),n.supply=r.u64.fromBuffer(n.supply),n.isInitialized=0!==n.isInitialized,n.freezeAuthority=0===n.freezeAuthorityOption?null:new e.PublicKey(n.freezeAuthority),n},exports.decodeNetwork=Ge,exports.decodeParimutuel=Ye,exports.decodeStore=je,exports.decodeTraderAccount=ze,exports.decodeTraderEntryAccount=He,exports.decodeTraderPositionAccount=qe,exports.decodeTraderSequenceNumber=function(e){return t.deserializeUnchecked(ne,U,e)},exports.extendBorsh=Pe,exports.findAssociatedTokenAccountPubkey=_e,exports.findEntryAccountPubkey=We,exports.findHoneypotPubkey=Oe,exports.findMarketProtocolFeeCollectorPubkey=Ae,exports.findMarketPubkey=function(r,t,n,i,o,s,u){try{return Promise.resolve(ve([Buffer.from("market"),t.toBuffer(),n.toBuffer(),i.toBuffer(),o.toBuffer(),new p.default(s).toBuffer(),new p.default(u).toBuffer()],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},exports.findMarketSettlementFeeCollectorPubkey=Te,exports.findMarketTraderAccountPubkey=Ke,exports.findNetworkProtocolFeeCollectorPubkey=we,exports.findNetworkPubkey=function(r){try{return Promise.resolve(ve([Buffer.from("network"),new Uint8Array(r.toBuffer())],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},exports.findNetworkSettlementFeeCollectorPubkey=Ee,exports.findNetworkTraderAccountPubkey=Re,exports.findNetworkTraderFeePayerPubkey=Ie,exports.findParimutuelPubkey=Se,exports.findProgramAddress=ve,exports.findStorePubkey=Me,exports.findTraderPositionAccountPubkey=xe,exports.findTraderSequenceNumberPubkey=function(r,t,n){try{return Promise.resolve(ve([Buffer.from("trader_sequence"),t.toBuffer(),new Uint8Array(new p.default(n).toArray("le",8))],r)).then(function(r){return new e.PublicKey(r[0])})}catch(e){return Promise.reject(e)}},exports.formatDate=function(e){return b.default.unix(e/1e3).format("MM/DD/YYYY")},exports.formatDuration=function(e){var r=Math.floor(e/3600),t=Math.floor(e/60%60),n=Math.floor(e%60);return 24===r?"1 day":1===r?"1 hour":15===t?"15 min":5===t?"5 min":60===n?"1 min":"1 MIN"},exports.formatHour=function(e){return b.default.unix(e/1e3).format("hh:mm:ss")},exports.formatTime=function(e){return b.default.unix(e/1e3).format("MM/DD/YYYY hh:mm:ss")},exports.getHistoricalTimes=Ne,exports.getMarketPubkeys=ke,exports.getMarketStatus=function(e,r,t){var n=(new Date).getTime();return n>=Number(r)+1e3*t?exports.MarketStatusEnum.SETTLED:n>=Number(e)&&n<Number(r)+1e3*t?exports.MarketStatusEnum.LIVE:exports.MarketStatusEnum.UPCOMING},exports.getMintDecimals=function(e,r){var t,n=e.find(function(e){return e.address===r});return null!=(t=null==n?void 0:n.mint.decimals)?t:0},exports.getMultipleAccounts=Be,exports.getProtocolMint=function(e,r){return m.default(e.markets,[r,"PROTOCOL_MINT"])},exports.getSettlementMint=function(e,r){return m.default(e.markets,[r,"SETTLEMENT_MINT"])},exports.getUnixTs=er,exports.getUpcomingTimes=Le,exports.isExpired=function(e){return Boolean(e.info.parimutuel.expired)},exports.isLong=function(e){var r=e.info.parimutuel,t=r.strike;return r.index.toNumber()>t.toNumber()},exports.isMarketAccount=function(e){return e.data[0]===exports.Version.MarketV1},exports.isNetworkAccount=function(e){return e.data[0]===exports.Version.NetworkV1},exports.isParimutuelAccount=function(e){return e.data[0]===exports.Version.ParimutuelV1},exports.isStoreAccount=function(e){return e.data[0]===exports.Version.StoreV1},exports.isTraderAccount=function(e){return e.data[0]===exports.Version.TraderAccountV1},exports.isTraderPositionAccount=function(e){return e.data[0]===exports.Version.ParimutuelTraderPositionAccountV1},exports.isTraderSequenceNumber=function(e){return e.data[0]===exports.Version.TraderSequenceNumberV1},exports.notEmpty=ge,exports.schema=ne,exports.sendAttachCookieTransaction=cr,exports.sendCreateNetworkTraderFeePayerTransaction=function(r){try{var t=this;if(!r.publicKey)throw new Error("user wallet not connected");var n=[],i=t.config,o=i.PARIMUTUEL_PROGRAM_ID,s=i.NETWORK,u=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&n.push(r);var a=s;return Promise.resolve(t.connection.getAccountInfo(a)).then(function(i){if(!i)throw new Error("no network account");var s=Ge(Buffer.from(i.data)),c=new e.PublicKey(s.protocolToken);return Promise.resolve(Re(o,u,a)).then(function(e){return Promise.resolve(Ie(o,e)).then(function(i){return Promise.resolve(ue(o,new Z,a,r.publicKey,c,e,i)).then(function(e){return Promise.resolve(ar(t.connection,r,[e],n,"max",n.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create fee payer account")})})})})})}catch(e){return Promise.reject(e)}},exports.sendCreateParimutuelTransaction=lr,exports.sendCreateStoreTransaction=fr,exports.sendCreateTraderAccountTransaction=function(r,t){try{var n=this;if(!r.publicKey)throw new Error("user wallet not connected");var i=[],o=[],s=n.config,u=s.PARIMUTUEL_PROGRAM_ID,a=s.NETWORK,c=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&o.push(r);var l=a;return Promise.resolve(n.connection.getAccountInfo(l)).then(function(s){if(!s)throw new Error("no network account");var a=Ge(Buffer.from(s.data)),f=new e.PublicKey(a.protocolToken),p=new e.PublicKey(a.settlementToken);return Promise.resolve(_e(c,f)).then(function(e){return Promise.resolve(_e(c,p)).then(function(s){return Promise.resolve(n.connection.getMultipleAccountsInfo([e,s])).then(function(a){var d=a[1];if(!a[0]){var m=k(e,c,c,f);i.push(m)}if(!d){var h=k(s,c,c,p);i.push(h)}return Promise.resolve(Re(u,c,l)).then(function(a){return Promise.resolve(Ke(u,c,t)).then(function(f){return Promise.resolve(ae(u,new z,l,t,c,e,s,a,f)).then(function(e){return Promise.resolve(ar(n.connection,r,[].concat(i,[e]),o,"max",o.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create trader account")})})})})})})})})}catch(e){return Promise.reject(e)}},exports.sendCreateTraderPositionAccountTransaction=function(r,t){try{var n=this;if(!r.publicKey)throw new Error("user wallet not connected");var i=[],o=n.config,s=o.PARIMUTUEL_PROGRAM_ID,u=o.NETWORK,a=r.publicKey;null!=r&&r.hasOwnProperty("_keypair")&&i.push(r);var c=u;return Promise.resolve(n.connection.getAccountInfo(t)).then(function(o){if(!o)throw new Error("no parimutuel account");var u=Ye(Buffer.from(o.data)),l=new e.PublicKey(u.marketKey);return Promise.resolve(xe(s,a,t)).then(function(e){return Promise.resolve(ce(s,new q,c,l,a,e,t)).then(function(e){return Promise.resolve(ar(n.connection,r,[e],i,"single",i.length>0)).then(function(e){if(e)return e.transactionId;throw new Error("failed to create trader account")})})})})}catch(e){return Promise.reject(e)}},exports.sendDepositFeeTransaction=br,exports.sendDestroyParimutuelTransaction=kr,exports.sendDestroyPositionEntryTransaction=gr,exports.sendDestroyPositionTransaction=vr,exports.sendPlacePositionTransaction=dr,exports.sendSettlePositionTransaction=mr,exports.sendSignedTransaction=ur,exports.sendTransaction=ar,exports.sendTransferTokenTransaction=yr,exports.sendUpdateNetworkTransaction=Pr,exports.sendUpdatePriceTransaction=pr,exports.sendWithdrawFeeTransaction=hr,exports.shortenAddress=function(e,r){return void 0===r&&(r=4),e.slice(0,r)+"..."+e.slice(-r)},exports.sleep=rr,exports.updateNetworkInstruction=oe;
//# sourceMappingURL=index.js.map
